@import nib
@import common

/* ----------------------------------------------------------------------------
 * Title
 */

.section.title
  &
    background-color: cream
    background-position: center 0

  @media (max-width: 600px)
    background: cream url(title-sky.jpg) center bottom repeat-x
    background-size: round(1378px * 0.5) round(722px * 0.5)

  // Desktop
  @media (min-width: 600px)
    &
      height: 897px

    .o-sky
      absolute: left 0 top 0
      width: 100%
      height: 722px
      image: 'title-sky.jpg' 1378px 722px
      background-position: center 0

    .o-road
      absolute: left 0 bottom 0
      width: 100%
      height: 179px
      image: 'title-road.jpg' 1000px 179px
      background-color: #92b562

    .o-trees
      absolute: left 0 bottom 179px
      width: 1306px
      height: 176px
      image: 'title-trees.png' 1306px 176px

    .o-front1
      absolute: left 0 bottom 70px
      width: 1180px
      height: 148px
      image: 'title-front1.png' 1180px 148px

    .o-front2
      absolute: left 0 bottom 0
      width: 1240px
      height: 163px
      image: 'title-front2.png' 1240px 163px

  &.moving
    s = 0.8
    .o-road.a
      animation: drift-out (s*90s) linear infinite
    .o-road.b
      animation: drift-in (s*90s) linear infinite
    .o-trees.a
      animation: drift-out (s*180s) linear infinite
    .o-trees.b
      animation: drift-in (s*180s) linear infinite
    .o-front1.a
      animation: drift-out (s*90s) linear infinite
    .o-front1.b
      animation: drift-in (s*90s) linear infinite
    .o-front2.a
      animation: drift-out (s*45s) linear infinite
    .o-front2.b
      animation: drift-in (s*45s) linear infinite

  // Logo image
  .logo
    margin: 170px auto 40px auto
    text-align: center

    position: relative
    z-index: 5

  .logo img
    width: 569px
    height: 196px

  // PICC hall, etc
  .info
    margin: 40px auto 180px auto
    font-size: 16pt
    text-transform: uppercase
    font-weight: bold

    position: relative
    z-index: 4

  .info > *
    text-align: center

  .time
    color: turquoise

  .venue
    color: ochre
    margin-bottom: 10px

  .address
    font-size: 12pt

  .address.one
    color: scarlet

  .address.two
    color: green

  // Mobile
  @media (max-width: 600px)
    .logo
      margin: 40px auto 20px auto
      width: 90%

    .logo img
      width: 100%
      height: auto

    .info
      margin: 20px auto 40px auto

/* Download poster */
.poster
  background: rgba(lighten(cream, 80%), 0.8)
  border-radius: 2px

  box-shadow: 0 1px 1px rgba(black, 0.2), 0 0 2px rgba(black, 0.2)

  font-size: 8pt

  color: #444
  text-shadow: 0 1px 1px rgba(white, 0.2)

  p
    color: #888
    padding: 12px 15px

  strong
    font-weight: bold
    font-size: 1.2em
    line-height: 1.4
    color: #444

  .button
    font-weight: bold

    padding: 2px 7px
    margin: 5px 0

    button-color(scarlet, 0px)

  // Printing?
  p.extra
    box-shadow: inset 0 1px 0 rgba(black, 0.05), inset 0 4px 3px -3px rgba(black, 0.1)
    background: rgba(#eee, 0.8)
    border-bottom-left-radius: 3px
    border-bottom-right-radius: 3px

  p.extra a
    color: #666
  p.extra a:hover
    color: lighten(scarlet, 30%)

/* Mobile: no poster link */
@media (max-width: 600px)
  .section.title .poster
    display: none

/* Desktop */
@media (min-width: 600px)
  .section.title .poster
    width: 170px
    position: absolute
    bottom: 40px
    right: 20px

    z-index: 50

/* ----------------------------------------------------------------------------
 * Animation frames
 */

range = 100%
@keyframes drift-out
  0%
    transform: translate3d(0, 0, 0)
    opacity: 1
  99%
    transform: translate3d(round(-1 * range * 0.99), 0, 0)
    opacity: 1
  100%
    transform: translate3d(-1 * range, 0, 0)
    opacity: 0

@keyframes drift-in
  0%
    transform: translate3d(range, 0, 0)
    opacity: 0
  1%
    transform: translate3d(round(range * 0.99), 0, 0)
    opacity: 1
  100%
    transform: translate3d(0, 0, 0)
    opacity: 1

